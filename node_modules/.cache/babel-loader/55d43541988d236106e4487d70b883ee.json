{"ast":null,"code":"import BaseSurface from '../core/surface';\nimport { createPromise, promiseAll, bindEvents, elementSize, unbindEvents } from '../util';\nimport RootNode from './root-node';\nimport ShapesQuadTree from '../search/shapes-quad-tree';\nimport SurfaceCursor from './surface-cursor';\n\nvar Surface = function (BaseSurface) {\n  function Surface(element, options) {\n    BaseSurface.call(this, element, options);\n    this.element.innerHTML = this._template(this);\n    var canvas = this.element.firstElementChild;\n    var size = elementSize(element);\n    canvas.width = size.width;\n    canvas.height = size.height;\n    this._rootElement = canvas;\n    this._root = new RootNode(canvas, size);\n    this._mouseTrackHandler = this._trackMouse.bind(this);\n    bindEvents(this.element, {\n      click: this._mouseTrackHandler,\n      mousemove: this._mouseTrackHandler\n    });\n  }\n\n  if (BaseSurface) Surface.__proto__ = BaseSurface;\n  Surface.prototype = Object.create(BaseSurface && BaseSurface.prototype);\n  Surface.prototype.constructor = Surface;\n  var prototypeAccessors = {\n    type: {\n      configurable: true\n    }\n  };\n\n  prototypeAccessors.type.get = function () {\n    return \"canvas\";\n  };\n\n  Surface.prototype.destroy = function destroy() {\n    BaseSurface.prototype.destroy.call(this);\n\n    if (this._root) {\n      this._root.destroy();\n\n      this._root = null;\n    }\n\n    if (this._searchTree) {\n      this._searchTree.clear();\n\n      delete this._searchTree;\n    }\n\n    if (this._cursor) {\n      this._cursor.destroy();\n\n      delete this._cursor;\n    }\n\n    unbindEvents(this.element, {\n      click: this._mouseTrackHandler,\n      mousemove: this._mouseTrackHandler\n    });\n  };\n\n  Surface.prototype.draw = function draw(element) {\n    BaseSurface.prototype.draw.call(this, element);\n\n    this._root.load([element], undefined, this.options.cors);\n\n    if (this._searchTree) {\n      this._searchTree.add([element]);\n    }\n  };\n\n  Surface.prototype.clear = function clear() {\n    BaseSurface.prototype.clear.call(this);\n\n    this._root.clear();\n\n    if (this._searchTree) {\n      this._searchTree.clear();\n    }\n\n    if (this._cursor) {\n      this._cursor.clear();\n    }\n  };\n\n  Surface.prototype.eventTarget = function eventTarget(e) {\n    if (this._searchTree) {\n      var point = this._surfacePoint(e);\n\n      var shape = this._searchTree.pointShape(point);\n\n      return shape;\n    }\n  };\n\n  Surface.prototype.image = function image() {\n    var ref = this;\n    var root = ref._root;\n    var rootElement = ref._rootElement;\n    var loadingStates = [];\n    root.traverse(function (childNode) {\n      if (childNode.loading) {\n        loadingStates.push(childNode.loading);\n      }\n    });\n    var promise = createPromise();\n\n    var resolveDataURL = function () {\n      root._invalidate({\n        fixedScale: true\n      });\n\n      try {\n        var data = rootElement.toDataURL();\n        promise.resolve(data);\n      } catch (e) {\n        promise.reject(e);\n      }\n    };\n\n    promiseAll(loadingStates).then(resolveDataURL, resolveDataURL);\n    return promise;\n  };\n\n  Surface.prototype.suspendTracking = function suspendTracking() {\n    BaseSurface.prototype.suspendTracking.call(this);\n\n    if (this._searchTree) {\n      this._searchTree.clear();\n\n      delete this._searchTree;\n    }\n  };\n\n  Surface.prototype.resumeTracking = function resumeTracking() {\n    BaseSurface.prototype.resumeTracking.call(this);\n\n    if (!this._searchTree) {\n      this._searchTree = new ShapesQuadTree();\n      var childNodes = this._root.childNodes;\n      var rootElements = [];\n\n      for (var idx = 0; idx < childNodes.length; idx++) {\n        rootElements.push(childNodes[idx].srcElement);\n      }\n\n      this._searchTree.add(rootElements);\n    }\n  };\n\n  Surface.prototype._resize = function _resize() {\n    this._rootElement.width = this._size.width;\n    this._rootElement.height = this._size.height;\n    this._root.size = this._size;\n\n    this._root.invalidate();\n  };\n\n  Surface.prototype._template = function _template() {\n    return \"<canvas style='width: 100%; height: 100%;'></canvas>\";\n  };\n\n  Surface.prototype._enableTracking = function _enableTracking() {\n    this._searchTree = new ShapesQuadTree();\n    this._cursor = new SurfaceCursor(this);\n\n    BaseSurface.prototype._enableTracking.call(this);\n  };\n\n  Surface.prototype._trackMouse = function _trackMouse(e) {\n    if (this._suspendedTracking) {\n      return;\n    }\n\n    var shape = this.eventTarget(e);\n\n    if (e.type !== \"click\") {\n      var currentShape = this._currentShape;\n\n      if (currentShape && currentShape !== shape) {\n        this.trigger(\"mouseleave\", {\n          element: currentShape,\n          originalEvent: e,\n          type: \"mouseleave\"\n        });\n      }\n\n      if (shape && currentShape !== shape) {\n        this.trigger(\"mouseenter\", {\n          element: shape,\n          originalEvent: e,\n          type: \"mouseenter\"\n        });\n      }\n\n      this.trigger(\"mousemove\", {\n        element: shape,\n        originalEvent: e,\n        type: \"mousemove\"\n      });\n      this._currentShape = shape;\n    } else if (shape) {\n      this.trigger(\"click\", {\n        element: shape,\n        originalEvent: e,\n        type: \"click\"\n      });\n    }\n  };\n\n  Object.defineProperties(Surface.prototype, prototypeAccessors);\n  return Surface;\n}(BaseSurface);\n\nexport default Surface;","map":{"version":3,"sources":["C:/Users/Md. Mehrab Haque/Desktop/satellight/node_modules/@progress/kendo-drawing/dist/es/canvas/surface.js"],"names":["BaseSurface","createPromise","promiseAll","bindEvents","elementSize","unbindEvents","RootNode","ShapesQuadTree","SurfaceCursor","Surface","element","options","call","innerHTML","_template","canvas","firstElementChild","size","width","height","_rootElement","_root","_mouseTrackHandler","_trackMouse","bind","click","mousemove","__proto__","prototype","Object","create","constructor","prototypeAccessors","type","configurable","get","destroy","_searchTree","clear","_cursor","draw","load","undefined","cors","add","eventTarget","e","point","_surfacePoint","shape","pointShape","image","ref","root","rootElement","loadingStates","traverse","childNode","loading","push","promise","resolveDataURL","_invalidate","fixedScale","data","toDataURL","resolve","reject","then","suspendTracking","resumeTracking","childNodes","rootElements","idx","length","srcElement","_resize","_size","invalidate","_enableTracking","_suspendedTracking","currentShape","_currentShape","trigger","originalEvent","defineProperties"],"mappings":"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","sourcesContent":["import BaseSurface from '../core/surface';\nimport { createPromise, promiseAll, bindEvents, elementSize, unbindEvents } from '../util';\nimport RootNode from './root-node';\nimport ShapesQuadTree from '../search/shapes-quad-tree';\nimport SurfaceCursor from './surface-cursor';\n\n\nvar Surface = (function (BaseSurface) {\n    function Surface(element, options) {\n        BaseSurface.call(this, element, options);\n\n        this.element.innerHTML = this._template(this);\n\n        var canvas = this.element.firstElementChild;\n        var size = elementSize(element);\n\n        canvas.width = size.width;\n        canvas.height = size.height;\n\n        this._rootElement = canvas;\n\n        this._root = new RootNode(canvas, size);\n\n        this._mouseTrackHandler = this._trackMouse.bind(this);\n\n        bindEvents(this.element, {\n            click: this._mouseTrackHandler,\n            mousemove: this._mouseTrackHandler\n        });\n    }\n\n    if ( BaseSurface ) Surface.__proto__ = BaseSurface;\n    Surface.prototype = Object.create( BaseSurface && BaseSurface.prototype );\n    Surface.prototype.constructor = Surface;\n\n    var prototypeAccessors = { type: { configurable: true } };\n\n    prototypeAccessors.type.get = function () {\n        return \"canvas\";\n    };\n\n    Surface.prototype.destroy = function destroy () {\n        BaseSurface.prototype.destroy.call(this);\n\n        if (this._root) {\n            this._root.destroy();\n            this._root = null;\n        }\n\n        if (this._searchTree) {\n            this._searchTree.clear();\n            delete this._searchTree;\n        }\n\n        if (this._cursor) {\n            this._cursor.destroy();\n            delete this._cursor;\n        }\n\n        unbindEvents(this.element, {\n            click: this._mouseTrackHandler,\n            mousemove: this._mouseTrackHandler\n        });\n    };\n\n    Surface.prototype.draw = function draw (element) {\n        BaseSurface.prototype.draw.call(this, element);\n        this._root.load([ element ], undefined, this.options.cors);\n\n        if (this._searchTree) {\n            this._searchTree.add([ element ]);\n        }\n    };\n\n    Surface.prototype.clear = function clear () {\n        BaseSurface.prototype.clear.call(this);\n        this._root.clear();\n\n        if (this._searchTree) {\n            this._searchTree.clear();\n        }\n\n        if (this._cursor) {\n            this._cursor.clear();\n        }\n    };\n\n    Surface.prototype.eventTarget = function eventTarget (e) {\n        if (this._searchTree) {\n            var point = this._surfacePoint(e);\n            var shape = this._searchTree.pointShape(point);\n            return shape;\n        }\n    };\n\n    Surface.prototype.image = function image () {\n        var ref = this;\n        var root = ref._root;\n        var rootElement = ref._rootElement;\n        var loadingStates = [];\n\n        root.traverse(function (childNode) {\n            if (childNode.loading) {\n                loadingStates.push(childNode.loading);\n            }\n        });\n\n        var promise = createPromise();\n        var resolveDataURL = function () {\n            root._invalidate({ fixedScale: true });\n\n            try {\n                var data = rootElement.toDataURL();\n                promise.resolve(data);\n            } catch (e) {\n                promise.reject(e);\n            }\n        };\n\n        promiseAll(loadingStates).then(resolveDataURL, resolveDataURL);\n\n        return promise;\n    };\n\n    Surface.prototype.suspendTracking = function suspendTracking () {\n        BaseSurface.prototype.suspendTracking.call(this);\n        if (this._searchTree) {\n            this._searchTree.clear();\n            delete this._searchTree;\n        }\n    };\n\n    Surface.prototype.resumeTracking = function resumeTracking () {\n        BaseSurface.prototype.resumeTracking.call(this);\n        if (!this._searchTree) {\n            this._searchTree = new ShapesQuadTree();\n\n            var childNodes = this._root.childNodes;\n            var rootElements = [];\n            for (var idx = 0; idx < childNodes.length; idx++) {\n                rootElements.push(childNodes[idx].srcElement);\n            }\n            this._searchTree.add(rootElements);\n        }\n    };\n\n    Surface.prototype._resize = function _resize () {\n        this._rootElement.width = this._size.width;\n        this._rootElement.height = this._size.height;\n\n        this._root.size = this._size;\n        this._root.invalidate();\n    };\n\n    Surface.prototype._template = function _template () {\n        return \"<canvas style='width: 100%; height: 100%;'></canvas>\";\n    };\n\n    Surface.prototype._enableTracking = function _enableTracking () {\n        this._searchTree = new ShapesQuadTree();\n        this._cursor = new SurfaceCursor(this);\n\n        BaseSurface.prototype._enableTracking.call(this);\n    };\n\n    Surface.prototype._trackMouse = function _trackMouse (e) {\n        if (this._suspendedTracking) {\n            return;\n        }\n\n        var shape = this.eventTarget(e);\n\n        if (e.type !== \"click\") {\n            var currentShape = this._currentShape;\n            if (currentShape && currentShape !== shape) {\n                this.trigger(\"mouseleave\", {\n                    element: currentShape,\n                    originalEvent: e,\n                    type: \"mouseleave\"\n                });\n            }\n\n            if (shape && currentShape !== shape) {\n                this.trigger(\"mouseenter\", {\n                    element: shape,\n                    originalEvent: e,\n                    type: \"mouseenter\"\n                });\n            }\n\n            this.trigger(\"mousemove\", {\n                element: shape,\n                originalEvent: e,\n                type: \"mousemove\"\n            });\n\n            this._currentShape = shape;\n        } else if (shape) {\n            this.trigger(\"click\", {\n                element: shape,\n                originalEvent: e,\n                type: \"click\"\n            });\n        }\n    };\n\n    Object.defineProperties( Surface.prototype, prototypeAccessors );\n\n    return Surface;\n}(BaseSurface));\n\nexport default Surface;\n"]},"metadata":{},"sourceType":"module"}