{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Md. Mehrab Haque\\\\Desktop\\\\satellight\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _defineProperty from\"C:\\\\Users\\\\Md. Mehrab Haque\\\\Desktop\\\\satellight\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import React,{useState,useEffect,useRef}from'react';import{makeStyles,useTheme,Button,Dialog,DialogActions,DialogContent,DialogTitle,TextField,Avatar,Tooltip,Drawer,IconButton,Hidden,CssBaseline,AppBar,Toolbar,List,Typography,Divider,ListItem}from'@material-ui/core';import ToggleButton from'@material-ui/lab/ToggleButton';import ToggleButtonGroup from'@material-ui/lab/ToggleButtonGroup';import MenuIcon from'@material-ui/icons/Menu';import ExploreIcon from'@material-ui/icons/Explore';import Brightness4Icon from'@material-ui/icons/Brightness4';import SportsBaseballIcon from'@material-ui/icons/SportsBaseball';import VisibilityIcon from'@material-ui/icons/Visibility';import CheckCircleIcon from'@material-ui/icons/CheckCircle';import AccessAlarmsIcon from'@material-ui/icons/AccessAlarms';import{sat_data}from'../assets/master';import MapView from'./MapView';import NightSkyView from'./NightSkyView';import ModelView from'./ModelView';import FPVView from'./FPVView';var drawerWidth=240;var useStyles=makeStyles(function(theme){return{root:{display:\"flex\"},paper:{padding:theme.spacing(2),textAlign:'center',color:theme.palette.text.secondary},media:{height:0,paddingTop:'56.25%'// 16:9\n},stepperRoot:{width:'100%'},canvasPaper:{padding:theme.spacing(1),color:theme.palette.text.secondary},drawer:_defineProperty({},theme.breakpoints.up('sm'),{width:drawerWidth,flexShrink:0}),appBar:_defineProperty({},theme.breakpoints.up('sm'),{width:\"calc(100% - \".concat(drawerWidth,\"px)\"),height:'10vh',marginLeft:drawerWidth}),menuButton:_defineProperty({marginRight:theme.spacing(2)},theme.breakpoints.up('sm'),{display:'none'}),toolbar:theme.mixins.toolbar,drawerPaper:{width:drawerWidth},content:{flexGrow:1,padding:theme.spacing(0,0),height:'90vh'},root1:{height:'100%'},eliminationGrid:{display:\"flex\",flexDirection:\"column\",justifyContent:\"center\"}};});var sat_codes=Object.keys(sat_data);var tokenObject={};function splitMulti(string,tokens){var str=string.toLowerCase();var tempChar=tokens[0];for(var i=1;i<tokens.length;i++){str=str.split(tokens[i]).join(tempChar);}str=str.split(tempChar);return str;}sat_codes.map(function(code){var sat=sat_data[code];var tokens='';tokens+=code;splitMulti(sat.type,[' ',',','.']).map(function(token){tokens+=token.trim();});splitMulti(sat.country_name,[' ',',','.']).map(function(token){tokens+=token.trim();});splitMulti(sat.launch_date,[' ',',','.']).map(function(token){tokens+=token.trim();});splitMulti(sat.name,[' ',',','.']).map(function(token){tokens+=token.trim();});splitMulti(sat.sat_name,[' ',',','.']).map(function(token){tokens+=token.trim();});if('isGeoStationary'in sat&&sat.isGeoStationary)tokens+='geostationary';tokenObject[code]=tokens;});//console.log(tokenObject)\n//console.log(tokenObject)\nvar Main=function Main(props){var window=props.window;var classes=useStyles();var theme=useTheme();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),mobileOpen=_useState2[0],setMobileOpen=_useState2[1];var _useState3=useState('map'),_useState4=_slicedToArray(_useState3,2),mode=_useState4[0],setMode=_useState4[1];var _useState5=useState('live'),_useState6=_slicedToArray(_useState5,2),time=_useState6[0],setTime=_useState6[1];var _useState7=useState('25544'),_useState8=_slicedToArray(_useState7,2),satellite=_useState8[0],setSatellite=_useState8[1];var _useState9=useState(sat_data),_useState10=_slicedToArray(_useState9,2),searchFilter=_useState10[0],setSearchFilter=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),timeDialog=_useState12[0],setTimeDialog=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),desDialog=_useState14[0],setDesDialog=_useState14[1];var _useState15=useState(0),_useState16=_slicedToArray(_useState15,2),timeDiff=_useState16[0],setTimeDiff=_useState16[1];var viewRef=useRef();var containerRef=useRef();var timeRef=useRef();var handleDrawerToggle=function handleDrawerToggle(){setMobileOpen(!mobileOpen);};var handleMode=function handleMode(event,newMode){if(newMode!=null)setMode(newMode);};var handleTime=function handleTime(event,newTime){if(newTime!=null)setTime(newTime);};var fpv=function fpv(){setMode('fpv');};var modelSatClick=function modelSatClick(code){setSatellite(code);setDesDialog(true);};var gotoTimeLine=function gotoTimeLine(){var timeDiffTmp=new Date(timeRef.current.value).getTime()-Date.now();viewRef.current.setTimeDiff(timeDiffTmp);setTimeDiff(timeDiffTmp);setTimeDialog(false);};useEffect(function(){if(time=='other')setTimeDialog(true);else if(time=='live'){setTimeDiff(0);viewRef.current.setTimeDiff(0);}},[time]);var filter=function filter(e){var keywords=splitMulti(e.target.value,[' ',',','.']);var filteredList={};var keys=Object.keys(tokenObject);keys.map(function(key){var isMatched=false;var token='';keywords.map(function(keyword){token+=keyword;});if(tokenObject[key].includes(token))filteredList[key]=sat_data[key];});setSearchFilter(filteredList);};useEffect(function(){viewRef.current.setSatellite({satCode:satellite,data:sat_data[satellite]});},[satellite]);var container=window!==undefined?function(){return window().document.body;}:undefined;var drawer=/*#__PURE__*/React.createElement(\"div\",{className:\"explorer\"},/*#__PURE__*/React.createElement(\"center\",null,/*#__PURE__*/React.createElement(ToggleButtonGroup,{value:mode,exclusive:true,onChange:handleMode,\"aria-label\":\"text alignment\",style:{marginTop:'5px'}},/*#__PURE__*/React.createElement(ToggleButton,{value:\"map\",\"aria-label\":\"left aligned\"},/*#__PURE__*/React.createElement(Tooltip,{title:\"Map View\"},/*#__PURE__*/React.createElement(ExploreIcon,null))),/*#__PURE__*/React.createElement(ToggleButton,{value:\"night\",\"aria-label\":\"centered\"},/*#__PURE__*/React.createElement(Tooltip,{title:\"Night Sky View\"},/*#__PURE__*/React.createElement(Brightness4Icon,null))),/*#__PURE__*/React.createElement(ToggleButton,{value:\"3d\",\"aria-label\":\"right aligned\"},/*#__PURE__*/React.createElement(Tooltip,{title:\"3D Model View\"},/*#__PURE__*/React.createElement(SportsBaseballIcon,null))),/*#__PURE__*/React.createElement(ToggleButton,{value:\"fpv\",\"aria-label\":\"justified\"},/*#__PURE__*/React.createElement(Tooltip,{title:\"First Person View\"},/*#__PURE__*/React.createElement(VisibilityIcon,null)))),/*#__PURE__*/React.createElement(ToggleButtonGroup,{value:time,exclusive:true,onChange:handleTime,\"aria-label\":\"text alignment\",style:{marginTop:'5px'}},/*#__PURE__*/React.createElement(ToggleButton,{value:\"live\",\"aria-label\":\"left aligned\"},/*#__PURE__*/React.createElement(Tooltip,{title:\"Live\"},/*#__PURE__*/React.createElement(CheckCircleIcon,null))),/*#__PURE__*/React.createElement(ToggleButton,{onClick:function onClick(){setTimeDialog(true);},value:\"other\",\"aria-label\":\"left aligned\"},/*#__PURE__*/React.createElement(Tooltip,{title:\"Past/Future\"},/*#__PURE__*/React.createElement(AccessAlarmsIcon,null)))),/*#__PURE__*/React.createElement(TextField,{style:{marginTop:'20px'},onChange:filter,id:\"outlined-basic\",label:\"Search\",variant:\"outlined\"})),/*#__PURE__*/React.createElement(List,null,Object.keys(searchFilter).map(function(key,ind){var sat=searchFilter[key];return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Divider,null),/*#__PURE__*/React.createElement(Divider,null),/*#__PURE__*/React.createElement(ListItem,{selected:key==satellite,onClick:function onClick(){return setSatellite(key);},button:true},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Typography,{variant:\"subtitle1\",gutterBottom:true},sat.name),/*#__PURE__*/React.createElement(Typography,{variant:\"body2\",gutterBottom:true},sat.country_name),/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex'}},/*#__PURE__*/React.createElement(Avatar,{alt:sat.country_name,src:sat.real_images[0]}),/*#__PURE__*/React.createElement(Avatar,{alt:sat.country_name,src:sat.country_flag})),/*#__PURE__*/React.createElement(\"center\",null,/*#__PURE__*/React.createElement(Button,{style:{marginTop:'10px'},onClick:function onClick(){setDesDialog(true);},variant:\"outlined\",color:\"primary\"},\"Details\")))),/*#__PURE__*/React.createElement(Divider,null),/*#__PURE__*/React.createElement(Divider,null));})),/*#__PURE__*/React.createElement(Divider,null));return/*#__PURE__*/React.createElement(\"div\",{className:classes.root},/*#__PURE__*/React.createElement(Dialog,{open:timeDialog,onClose:function onClose(){setTimeDialog(false);},\"aria-labelledby\":\"form-dialog-title\"},/*#__PURE__*/React.createElement(DialogTitle,{id:\"form-dialog-title\"},\"Set timeline\"),/*#__PURE__*/React.createElement(DialogContent,{className:classes.root},/*#__PURE__*/React.createElement(TextField,{inputRef:timeRef,id:\"datetime-local\",label:\"timeline starting point\",type:\"datetime-local\",defaultValue:\"2017-05-24T22:30\",InputLabelProps:{shrink:true}})),/*#__PURE__*/React.createElement(DialogActions,null,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){setTimeDialog(false);},color:\"secondary\"},\"Cancel\"),/*#__PURE__*/React.createElement(Button,{onClick:gotoTimeLine,color:\"primary\"},\"Go\"))),/*#__PURE__*/React.createElement(Dialog,{open:desDialog,onClose:function onClose(){setDesDialog(false);},\"aria-labelledby\":\"form-dialog-title\"},/*#__PURE__*/React.createElement(DialogTitle,{id:\"form-dialog-title\"},sat_data[satellite].sat_name),/*#__PURE__*/React.createElement(DialogContent,null,/*#__PURE__*/React.createElement(Typography,{variant:\"body\"},sat_data[satellite].name,sat_data[satellite].isGeoStationary?'(Geostationary)':''),/*#__PURE__*/React.createElement(Typography,{variant:\"body\"},/*#__PURE__*/React.createElement(\"br\",null),\"Country : \",sat_data[satellite].country_name),/*#__PURE__*/React.createElement(Typography,{variant:\"body\"},/*#__PURE__*/React.createElement(\"br\",null),\"Type : \",sat_data[satellite].type),/*#__PURE__*/React.createElement(Typography,{variant:\"body\"},/*#__PURE__*/React.createElement(\"br\",null),\"Launch Date : \",sat_data[satellite].launch_date),/*#__PURE__*/React.createElement(Typography,{variant:\"body\"},/*#__PURE__*/React.createElement(\"br\",null),\"Mission Duration : \",sat_data[satellite].mission_duration),/*#__PURE__*/React.createElement(Typography,{variant:\"body\"},/*#__PURE__*/React.createElement(\"br\",null),\"Launch Mass : \",sat_data[satellite].launch_mass),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"img\",{src:sat_data[satellite].country_flag,width:\"30%\"}),sat_data[satellite].real_images.map(function(url){return/*#__PURE__*/React.createElement(\"img\",{style:{marginLeft:'2px'},src:url,width:\"30%\"});}),/*#__PURE__*/React.createElement(Typography,{variant:\"body\"},/*#__PURE__*/React.createElement(\"br\",null),sat_data[satellite].description),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"b\",null,/*#__PURE__*/React.createElement(\"u\",null,\"Use Cases :\")),sat_data[satellite].use_cases.map(function(usage,ind){return/*#__PURE__*/React.createElement(Typography,{variant:\"body\"},/*#__PURE__*/React.createElement(\"br\",null),\"(\",ind+1,\")\",usage,/*#__PURE__*/React.createElement(\"br\",null));})),/*#__PURE__*/React.createElement(DialogActions,null,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){setDesDialog(false);},color:\"secondary\"},\"Ok\"))),/*#__PURE__*/React.createElement(CssBaseline,null),/*#__PURE__*/React.createElement(AppBar,{style:{backgroundColor:'#0090ff'},position:\"fixed\",className:classes.appBar},/*#__PURE__*/React.createElement(Toolbar,null,/*#__PURE__*/React.createElement(IconButton,{color:\"inherit\",\"aria-label\":\"open drawer\",edge:\"start\",onClick:handleDrawerToggle,className:classes.menuButton},/*#__PURE__*/React.createElement(MenuIcon,null)),/*#__PURE__*/React.createElement(Typography,{variant:\"h6\",noWrap:true},\"Satellight : putting light on satellites\"))),/*#__PURE__*/React.createElement(\"nav\",{className:classes.drawer,\"aria-label\":\"mailbox folders\"},/*#__PURE__*/React.createElement(Hidden,{smUp:true,implementation:\"css\"},/*#__PURE__*/React.createElement(Drawer,{container:container,variant:\"temporary\",anchor:theme.direction==='rtl'?'right':'left',open:mobileOpen,onClose:handleDrawerToggle,classes:{paper:classes.drawerPaper},ModalProps:{keepMounted:true// Better open performance on mobile.\n}},drawer)),/*#__PURE__*/React.createElement(Hidden,{xsDown:true,implementation:\"css\"},/*#__PURE__*/React.createElement(Drawer,{classes:{paper:classes.drawerPaper},variant:\"permanent\",open:true},drawer))),/*#__PURE__*/React.createElement(\"main\",{className:classes.content},/*#__PURE__*/React.createElement(\"div\",{style:{marginBottom:'-6px',padding:'0px'},className:classes.toolbar}),/*#__PURE__*/React.createElement(\"div\",{className:\"container\",ref:containerRef,style:{height:'100%'}},mode=='map'?/*#__PURE__*/React.createElement(MapView,{fpv:fpv,key:[satellite,timeDiff],ref:viewRef,satCode:satellite,data:sat_data[satellite],timeDiff:timeDiff}):mode=='night'?/*#__PURE__*/React.createElement(NightSkyView,{fpv:fpv,key:[satellite,timeDiff],ref:viewRef,satCode:satellite,data:sat_data[satellite],timeDiff:timeDiff}):mode=='3d'?/*#__PURE__*/React.createElement(ModelView,{show:modelSatClick,parent:containerRef,ref:viewRef,satCode:satellite,data:sat_data[satellite],timeDiff:timeDiff}):mode=='fpv'?/*#__PURE__*/React.createElement(FPVView,{ref:viewRef,satCode:satellite,data:sat_data[satellite],timeDiff:timeDiff}):/*#__PURE__*/React.createElement(\"br\",null))));};export default Main;","map":{"version":3,"sources":["C:/Users/Md. Mehrab Haque/Desktop/satellight/src/components/Main.js"],"names":["React","useState","useEffect","useRef","makeStyles","useTheme","Button","Dialog","DialogActions","DialogContent","DialogTitle","TextField","Avatar","Tooltip","Drawer","IconButton","Hidden","CssBaseline","AppBar","Toolbar","List","Typography","Divider","ListItem","ToggleButton","ToggleButtonGroup","MenuIcon","ExploreIcon","Brightness4Icon","SportsBaseballIcon","VisibilityIcon","CheckCircleIcon","AccessAlarmsIcon","sat_data","MapView","NightSkyView","ModelView","FPVView","drawerWidth","useStyles","theme","root","display","paper","padding","spacing","textAlign","color","palette","text","secondary","media","height","paddingTop","stepperRoot","width","canvasPaper","drawer","breakpoints","up","flexShrink","appBar","marginLeft","menuButton","marginRight","toolbar","mixins","drawerPaper","content","flexGrow","root1","eliminationGrid","flexDirection","justifyContent","sat_codes","Object","keys","tokenObject","splitMulti","string","tokens","str","toLowerCase","tempChar","i","length","split","join","map","code","sat","type","token","trim","country_name","launch_date","name","sat_name","isGeoStationary","Main","props","window","classes","mobileOpen","setMobileOpen","mode","setMode","time","setTime","satellite","setSatellite","searchFilter","setSearchFilter","timeDialog","setTimeDialog","desDialog","setDesDialog","timeDiff","setTimeDiff","viewRef","containerRef","timeRef","handleDrawerToggle","handleMode","event","newMode","handleTime","newTime","fpv","modelSatClick","gotoTimeLine","timeDiffTmp","Date","current","value","getTime","now","filter","e","keywords","target","filteredList","key","isMatched","keyword","includes","satCode","data","container","undefined","document","body","marginTop","ind","real_images","country_flag","shrink","mission_duration","launch_mass","url","description","use_cases","usage","backgroundColor","direction","keepMounted","marginBottom"],"mappings":"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","sourcesContent":["import React,{useState,useEffect,useRef} from 'react'\r\nimport{makeStyles,useTheme,Button,Dialog,DialogActions,DialogContent,DialogTitle,TextField,Avatar,Tooltip,Drawer,IconButton,Hidden,CssBaseline,AppBar,Toolbar,List,Typography,Divider,ListItem} from '@material-ui/core'\r\nimport ToggleButton from '@material-ui/lab/ToggleButton';\r\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ExploreIcon from '@material-ui/icons/Explore';\r\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\r\nimport SportsBaseballIcon from '@material-ui/icons/SportsBaseball';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport AccessAlarmsIcon from '@material-ui/icons/AccessAlarms';\r\nimport {sat_data} from '../assets/master'\r\nimport MapView from './MapView'\r\nimport NightSkyView from './NightSkyView'\r\nimport ModelView from './ModelView'\r\nimport FPVView from './FPVView'\r\n\r\nconst drawerWidth = 240;\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\"\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    textAlign: 'center',\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  media: {\r\n    height: 0,\r\n    paddingTop: '56.25%', // 16:9\r\n  },\r\n  stepperRoot: {\r\n    width: '100%',\r\n  },\r\n  canvasPaper: {\r\n    padding: theme.spacing(1),\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  drawer: {\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n  },\r\n  appBar: {\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n      height:'10vh',\r\n      marginLeft: drawerWidth,\r\n    },\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up('sm')]: {\r\n      display: 'none',\r\n    },\r\n  },\r\n  toolbar: theme.mixins.toolbar,\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(0,0),\r\n    height:'90vh'\r\n  },\r\n  root1:{\r\n    height:'100%'\r\n  },\r\n  eliminationGrid : {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\"\r\n  }\r\n}));\r\n\r\nvar sat_codes=Object.keys(sat_data)\r\nvar tokenObject={}\r\nfunction splitMulti(string, tokens){\r\n  var str=string.toLowerCase()\r\n        var tempChar = tokens[0];\r\n        for(var i = 1; i < tokens.length; i++){\r\n            str = str.split(tokens[i]).join(tempChar);\r\n        }\r\n        str = str.split(tempChar);\r\n        return str;\r\n}\r\nsat_codes.map(code=>{\r\n  var sat=sat_data[code]\r\n  var tokens=''\r\n  tokens+=code\r\n  splitMulti(sat.type,[' ',',','.']).map(token=>{\r\n    tokens+=token.trim()\r\n  })\r\n  splitMulti(sat.country_name,[' ',',','.']).map(token=>{\r\n    tokens+=token.trim()\r\n  })\r\n  splitMulti(sat.launch_date,[' ',',','.']).map(token=>{\r\n    tokens+=token.trim()\r\n  })\r\n\r\n  splitMulti(sat.name,[' ',',','.']).map(token=>{\r\n    tokens+=token.trim()\r\n  })\r\n  splitMulti(sat.sat_name,[' ',',','.']).map(token=>{\r\n    tokens+=token.trim()\r\n  })\r\n  if('isGeoStationary' in sat && sat.isGeoStationary)\r\n    tokens+='geostationary'\r\n\r\n  tokenObject[code]=tokens\r\n})\r\n\r\n//console.log(tokenObject)\r\n\r\n//console.log(tokenObject)\r\nconst Main=props=>{\r\n  const { window } = props;\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [mobileOpen, setMobileOpen] = useState(false);\r\n  const [mode, setMode] = useState('map');\r\n  const [time,setTime]=useState('live')\r\n  const [satellite,setSatellite]=useState('25544')\r\n  const [searchFilter,setSearchFilter]=useState(sat_data)\r\n  const [timeDialog,setTimeDialog]=useState(false)\r\n  const [desDialog,setDesDialog]=useState(false)\r\n  const [timeDiff,setTimeDiff]=useState(0)\r\n\r\n  const viewRef=useRef()\r\n  const containerRef=useRef()\r\n  const timeRef=useRef()\r\n\r\n\r\n  const handleDrawerToggle = () => {\r\n    setMobileOpen(!mobileOpen);\r\n  };\r\n\r\n  const handleMode = (event, newMode) => {\r\n    if(newMode!=null)\r\n      setMode(newMode);\r\n  };\r\n\r\n  const handleTime = (event, newTime) => {\r\n    if(newTime!=null)\r\n      setTime(newTime);\r\n  };\r\n\r\n  const fpv=()=>{\r\n    setMode('fpv')\r\n  }\r\n\r\n  const modelSatClick=code=>{\r\n    setSatellite(code)\r\n    setDesDialog(true)\r\n  }\r\n\r\n  const gotoTimeLine=()=>{\r\n    var timeDiffTmp=new Date(timeRef.current.value).getTime()-Date.now()\r\n    viewRef.current.setTimeDiff(timeDiffTmp)\r\n    setTimeDiff(timeDiffTmp)\r\n    setTimeDialog(false)\r\n  }\r\n\r\n  useEffect(()=>{\r\n    if(time=='other')\r\n      setTimeDialog(true)\r\n    else if(time=='live'){\r\n      setTimeDiff(0)\r\n      viewRef.current.setTimeDiff(0)\r\n    }\r\n  },[time])\r\n\r\n  const filter=e=>{\r\n    var keywords=splitMulti(e.target.value,[' ',',','.'])\r\n    var filteredList={}\r\n    var keys=Object.keys(tokenObject)\r\n    keys.map(key=>{\r\n      var isMatched=false\r\n      var token=''\r\n      keywords.map(keyword=>{\r\n        token+=keyword\r\n      })\r\n      if(tokenObject[key].includes(token))\r\n        filteredList[key]=sat_data[key]\r\n    })\r\n    setSearchFilter(filteredList)\r\n\r\n  }\r\n\r\n  useEffect(()=>{\r\n    viewRef.current.setSatellite({\r\n      satCode:satellite,\r\n      data:sat_data[satellite]\r\n    })\r\n  },[satellite])\r\n\r\n  const container = window !== undefined ? () => window().document.body : undefined;\r\n  const drawer=(\r\n    <div className='explorer'>\r\n    <center>\r\n      <ToggleButtonGroup\r\n        value={mode}\r\n        exclusive\r\n        onChange={handleMode}\r\n        aria-label=\"text alignment\"\r\n        style={{marginTop:'5px'}}\r\n      >\r\n          <ToggleButton value=\"map\" aria-label=\"left aligned\">\r\n            <Tooltip title=\"Map View\">\r\n              <ExploreIcon />\r\n            </Tooltip>\r\n          </ToggleButton>\r\n          <ToggleButton value=\"night\" aria-label=\"centered\">\r\n            <Tooltip title=\"Night Sky View\">\r\n              <Brightness4Icon />\r\n            </Tooltip>\r\n          </ToggleButton>\r\n          <ToggleButton value=\"3d\" aria-label=\"right aligned\">\r\n            <Tooltip title=\"3D Model View\">\r\n              <SportsBaseballIcon />\r\n            </Tooltip>\r\n          </ToggleButton>\r\n          <ToggleButton value=\"fpv\" aria-label=\"justified\">\r\n            <Tooltip title=\"First Person View\">\r\n              <VisibilityIcon />\r\n            </Tooltip>\r\n          </ToggleButton>\r\n        </ToggleButtonGroup>\r\n\r\n\r\n        <ToggleButtonGroup\r\n          value={time}\r\n          exclusive\r\n          onChange={handleTime}\r\n          aria-label=\"text alignment\"\r\n          style={{marginTop:'5px'}}\r\n        >\r\n        <ToggleButton value=\"live\" aria-label=\"left aligned\">\r\n          <Tooltip title=\"Live\">\r\n            <CheckCircleIcon/>\r\n          </Tooltip>\r\n        </ToggleButton>\r\n        <ToggleButton onClick={()=>{setTimeDialog(true)}} value=\"other\" aria-label=\"left aligned\">\r\n          <Tooltip title=\"Past/Future\">\r\n            <AccessAlarmsIcon/>\r\n          </Tooltip>\r\n        </ToggleButton>\r\n          </ToggleButtonGroup>\r\n\r\n\r\n\r\n        <TextField style={{marginTop:'20px'}} onChange={filter} id=\"outlined-basic\" label=\"Search\" variant=\"outlined\" />\r\n      </center>\r\n      <List>\r\n        {\r\n          Object.keys(searchFilter).map((key,ind)=>{\r\n            var sat=searchFilter[key]\r\n            return(\r\n              <div>\r\n                <Divider />\r\n                <Divider />\r\n                <ListItem selected={key==satellite} onClick={()=>(setSatellite(key))}  button>\r\n                  <div>\r\n                    <Typography variant=\"subtitle1\" gutterBottom>\r\n                      {sat.name}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" gutterBottom>\r\n                      {sat.country_name}\r\n                    </Typography>\r\n                    <div style={{display:'flex'}}>\r\n                      <Avatar alt={sat.country_name} src={sat.real_images[0]} />\r\n                      <Avatar alt={sat.country_name} src={sat.country_flag} />\r\n                    </div>\r\n                    <center >\r\n                      <Button style={{marginTop:'10px'}} onClick={()=>{setDesDialog(true)}} variant=\"outlined\" color=\"primary\" >\r\n                        Details\r\n                      </Button>\r\n                    </center>\r\n                  </div>\r\n                </ListItem>\r\n              <Divider />\r\n              <Divider />\r\n              </div>\r\n            )\r\n          })\r\n        }\r\n      </List>\r\n      <Divider />\r\n    </div>\r\n  )\r\n\r\n  return(\r\n      <div className={classes.root}>\r\n      <Dialog open={timeDialog} onClose={()=>{setTimeDialog(false);}} aria-labelledby=\"form-dialog-title\">\r\n          <DialogTitle id=\"form-dialog-title\">Set timeline</DialogTitle>\r\n          <DialogContent className={classes.root}>\r\n\r\n          <TextField\r\n            inputRef={timeRef}\r\n            id=\"datetime-local\"\r\n            label=\"timeline starting point\"\r\n            type=\"datetime-local\"\r\n            defaultValue=\"2017-05-24T22:30\"\r\n            InputLabelProps={{\r\n              shrink: true,\r\n            }}\r\n          />\r\n\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={()=>{setTimeDialog(false)}} color=\"secondary\">\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={gotoTimeLine} color=\"primary\">\r\n              Go\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        <Dialog open={desDialog} onClose={()=>{setDesDialog(false);}} aria-labelledby=\"form-dialog-title\">\r\n            <DialogTitle id=\"form-dialog-title\">{sat_data[satellite].sat_name}</DialogTitle>\r\n            <DialogContent>\r\n              <Typography variant=\"body\">\r\n                {sat_data[satellite].name}\r\n                {sat_data[satellite].isGeoStationary?'(Geostationary)':''}\r\n              </Typography>\r\n              <Typography variant=\"body\"><br/>\r\n                Country : {sat_data[satellite].country_name}\r\n              </Typography>\r\n              <Typography variant=\"body\"><br/>\r\n                Type : {sat_data[satellite].type}\r\n              </Typography>\r\n              <Typography variant=\"body\"><br/>\r\n                Launch Date : {sat_data[satellite].launch_date}\r\n              </Typography>\r\n              <Typography variant=\"body\"><br/>\r\n                Mission Duration : {sat_data[satellite].mission_duration}\r\n              </Typography>\r\n              <Typography variant=\"body\"><br/>\r\n                Launch Mass : {sat_data[satellite].launch_mass}\r\n              </Typography>\r\n              <br/><img src={sat_data[satellite].country_flag} width='30%'/>\r\n              {\r\n                sat_data[satellite].real_images.map(url=>{\r\n                  return(\r\n                    <img style={{marginLeft:'2px'}} src={url} width='30%'/>\r\n                  )\r\n                })\r\n              }\r\n              <Typography variant=\"body\"><br/>\r\n                {sat_data[satellite].description}\r\n              </Typography>\r\n              <br/><br/>\r\n                <b><u>Use Cases :</u></b>\r\n\r\n              {\r\n                sat_data[satellite].use_cases.map((usage,ind)=>{\r\n                  return(\r\n                    <Typography variant=\"body\"><br/>\r\n                      ({ind+1}){usage}<br/>\r\n                    </Typography>\r\n                  )\r\n                })\r\n              }\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button onClick={()=>{setDesDialog(false)}} color=\"secondary\">\r\n                Ok\r\n              </Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n        <CssBaseline />\r\n        <AppBar style={{backgroundColor:'#0090ff'}} position=\"fixed\" className={classes.appBar}>\r\n          <Toolbar>\r\n            <IconButton\r\n              color=\"inherit\"\r\n              aria-label=\"open drawer\"\r\n              edge=\"start\"\r\n              onClick={handleDrawerToggle}\r\n              className={classes.menuButton}\r\n            >\r\n              <MenuIcon />\r\n            </IconButton>\r\n              <Typography variant=\"h6\" noWrap>\r\n                Satellight : putting light on satellites\r\n              </Typography>\r\n          </Toolbar>\r\n        </AppBar>\r\n        <nav className={classes.drawer} aria-label=\"mailbox folders\">\r\n          {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\r\n          <Hidden smUp implementation=\"css\">\r\n            <Drawer\r\n              container={container}\r\n              variant=\"temporary\"\r\n              anchor={theme.direction === 'rtl' ? 'right' : 'left'}\r\n              open={mobileOpen}\r\n              onClose={handleDrawerToggle}\r\n              classes={{\r\n                paper: classes.drawerPaper,\r\n              }}\r\n              ModalProps={{\r\n                keepMounted: true, // Better open performance on mobile.\r\n              }}\r\n            >\r\n              {drawer}\r\n            </Drawer>\r\n          </Hidden>\r\n          <Hidden xsDown implementation=\"css\">\r\n            <Drawer\r\n              classes={{\r\n                paper: classes.drawerPaper,\r\n              }}\r\n              variant=\"permanent\"\r\n              open\r\n            >\r\n              {drawer}\r\n            </Drawer>\r\n          </Hidden>\r\n        </nav>\r\n        <main className={classes.content}>\r\n          <div style={{marginBottom:'-6px',padding:'0px'}} className={classes.toolbar} />\r\n            <div className='container' ref={containerRef} style={{height:'100%'}}>\r\n              {\r\n                mode=='map'?(\r\n                    <MapView fpv={fpv} key={[satellite,timeDiff]} ref={viewRef} satCode={satellite} data={sat_data[satellite]} timeDiff={timeDiff}/>\r\n                ):(\r\n                  mode=='night'?(\r\n                      <NightSkyView fpv={fpv} key={[satellite,timeDiff]} ref={viewRef} satCode={satellite} data={sat_data[satellite]} timeDiff={timeDiff}/>\r\n                  ):(\r\n                    mode=='3d'?(\r\n                        <ModelView show={modelSatClick} parent={containerRef} ref={viewRef} satCode={satellite} data={sat_data[satellite]} timeDiff={timeDiff}/>\r\n                    ):(\r\n                      mode=='fpv'?(\r\n                          <FPVView ref={viewRef} satCode={satellite} data={sat_data[satellite]} timeDiff={timeDiff}/>\r\n                      ):(\r\n                        <br/>\r\n                      )\r\n                    )\r\n                  )\r\n                )\r\n              }\r\n          </div>\r\n        </main>\r\n      </div>\r\n\r\n\r\n  )\r\n}\r\n\r\nexport default Main\r\n"]},"metadata":{},"sourceType":"module"}